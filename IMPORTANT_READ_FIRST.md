# ВАЖНО: Миграция базы данных

## Ваша база данных требует обновления!

У вас уже есть таблица `plants`, но её структура немного отличается от того, что использует приложение. Нужно запустить простую миграцию.

## Быстрая миграция (2 минуты)

### Шаг 1: Отключите email подтверждение
1. Откройте Supabase Dashboard
2. Перейдите в **Authentication** → **Providers** → **Email**
3. Найдите "Confirm email" и **ВЫКЛЮЧИТЕ** его
4. Нажмите **Save**

### Шаг 2: Запустите миграционный скрипт
1. В Supabase Dashboard откройте **SQL Editor**
2. Нажмите **New Query**
3. Скопируйте **ВСЁ** содержимое файла `migration_to_new_schema.sql`
4. Вставьте и нажмите **Run**
5. Вы увидите: "Migration complete!"

**ВНИМАНИЕ:** Миграция удалит все существующие данные в таблице plants!

### Шаг 3: Проверьте
- Проверьте что таблица `plants` появилась в **Database** → **Tables**
- Вы должны увидеть поля: id, user_id, name, location, **photo_url**, **water_frequency_days**, **last_watered_date**, notes

## Готово! Теперь можно тестировать приложение:

1. Откройте приложение (оно уже запущено на порту 5000)
2. Зарегистрируйтесь с любым email (например, test@example.com)
3. Начинайте добавлять растения!

---

## Что изменилось в миграции?

**Старые поля -> Новые:**
- `species` -> удалено (не нужно)
- `watering_frequency` -> `water_frequency_days`
- `last_watered` -> `last_watered_date`
- `image_url` -> `photo_url`

## Что будет если пропустить миграцию?

- Приложение не сможет добавлять растения
- Ошибки при попытке полить растение
- Неправильное отображение данных

## Нужна помощь?

Смотрите `SETUP.md` для подробных инструкций.

---

**После выполнения 2 шагов приложение полностью готово к работе!**
